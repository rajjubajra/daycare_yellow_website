(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[266],{4169:function(e,i,d){Promise.resolve().then(d.bind(d,2442))},1552:function(e,i,d){"use strict";var l=d(7437);d(2265),i.Z=function(){return(0,l.jsx)("div",{className:"w-full h-screen flex justify-center items-center",children:(0,l.jsx)("div",{className:"text-3xl",children:"Loading..."})})}},2442:function(e,i,d){"use strict";d.r(i);var l=d(7437),n=d(2265),t=d(2333),a=d(4827),r=d(1313),o=d(1552);let s=function(){for(var e=arguments.length,i=Array(e),d=0;d<e;d++)i[d]=arguments[d];return fetch(...i).then(e=>e.json())};i.default=function(){let e="".concat(a.g.URL,"/jsonapi/node/daycare_team_members?include=field_media_image,field_media_image.field_media_image,field_position"),{data:i,error:d,isLoading:u}=(0,t.ZP)(e,s),m="".concat(a.g.URL,"/jsonapi/taxonomy_term/daycare_team"),{data:c,error:v,isLoading:_}=(0,t.ZP)(m,s),h="".concat(a.g.URL,"/jsonapi/taxonomy_term/daycare_staff_popsition"),{data:f,error:p,isLoading:g}=(0,t.ZP)(h,s),[x,b]=(0,n.useState)(null);console.log("read more",x);let[j,N]=(0,n.useState)([]);return((0,n.useEffect)(()=>{var e;let d=(e,i)=>{var d,l;let n=e&&(null==e?void 0:null===(d=e.data)||void 0===d?void 0:d.findIndex(e=>e.id===i));return null==e?void 0:null===(l=e.data[n])||void 0===l?void 0:l.attributes.name},l=(e,i)=>{var l;let n=[];return e&&(null==e||null===(l=e.data)||void 0===l||l.map(e=>{var l,t,a;e.relationships.field_team_group.data.id===i&&n.push({member_id:e.id,member_name:e.attributes.field_name,member_details:e.attributes.body.value,member_position:d(f,e.relationships.field_position.data.id),member_image:null==e?void 0:null===(a=e.relationships)||void 0===a?void 0:null===(t=a.field_media_image)||void 0===t?void 0:null===(l=t.data)||void 0===l?void 0:l.id})})),n},n=[];c&&(null==c||null===(e=c.data)||void 0===e||e.map(e=>{n.push({group_id:e.id,group_name:e.attributes.name,group_description:e.attributes.description.value,member_details:l(i,e.id)})})),N(n)},[c,i,f]),d)?(0,l.jsx)("div",{children:"failed to load"}):u?(0,l.jsx)(o.Z,{}):(0,l.jsx)("div",{className:"my-20",children:j&&(null==j?void 0:j.map(e=>{var d;return(0,l.jsxs)("div",{children:[(0,l.jsxs)("div",{className:"mx-10",children:[(0,l.jsx)("h3",{className:"text-2xl",children:e.group_name}),(0,l.jsx)("div",{dangerouslySetInnerHTML:{__html:e.group_description}})]}),(0,l.jsx)("div",{className:"grid md:grid-cols-2 gap-6",children:null===(d=e.member_details)||void 0===d?void 0:d.map((e,d)=>(0,l.jsxs)("div",{className:"".concat(x===e.member_id?"h-auto":"h-72"," m-10 p-10 border flex shadow-md"),children:[(0,l.jsx)("div",{className:"border w-52 h-52 mr-5",children:(0,l.jsx)(r.Z,{data:i,id:e.member_image})}),(0,l.jsxs)("div",{className:"w-full",children:[(0,l.jsx)("h4",{className:"font-bold",children:e.member_name}),(0,l.jsx)("div",{className:"font-light text-sm",children:e.member_position}),(0,l.jsx)("div",{className:"mt-5 font-light",dangerouslySetInnerHTML:{__html:x&&x===e.member_id?e.member_details:e.member_details.substring(0,150)}}),(0,l.jsx)("div",{className:"cursor-pointer mt-5 text-xs hover:text-red-500",onClick:()=>x===e.member_id?b(null):b(e.member_id),children:x===e.member_id?"Close":"Read more.."})]})]},d))})]},e.group_id)}))})}},1313:function(e,i,d){"use strict";d.d(i,{Z:function(){return r}});var l=d(7437),n=d(6691),t=d.n(n),a=d(4827);function r(e){var i,d,n,r,o,s,u,m,c,v,_,h,f,p,g;let{data:x,id:b}=e,j=null==x?void 0:null===(i=x.included)||void 0===i?void 0:i.findIndex(e=>e.id===b),N=null==x?void 0:null===(d=x.included[j])||void 0===d?void 0:d.relationships.field_media_image.data.id,y=null==x?void 0:null===(n=x.included)||void 0===n?void 0:n.findIndex(e=>e.id===N),w=null==x?void 0:null===(o=x.included[y])||void 0===o?void 0:null===(r=o.attributes)||void 0===r?void 0:r.uri.url;return null==x||null===(v=x.included[y])||void 0===v||null===(c=v.relationships)||void 0===c||null===(m=c.field_media_image)||void 0===m||null===(u=m.data)||void 0===u||null===(s=u.meta)||void 0===s||s.width,null==x||null===(g=x.included[y])||void 0===g||null===(p=g.relationships)||void 0===p||null===(f=p.field_media_image)||void 0===f||null===(h=f.data)||void 0===h||null===(_=h.meta)||void 0===_||_.height,x&&b&&(0,l.jsx)(t(),{className:"w-full h-auto",src:a.g.URL+w,width:500,height:500,alt:"test"})}},4827:function(e,i,d){"use strict";d.d(i,{g:function(){return l}});let l={URL:"https://cms.yellow-website.com"}}},function(e){e.O(0,[506,971,596,744],function(){return e(e.s=4169)}),_N_E=e.O()}]);